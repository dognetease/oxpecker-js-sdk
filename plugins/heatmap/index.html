<html>
<head>
    <meta charset="utf-8">
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    <style type="text/css">
    body, html { margin:0; padding:0;}
      #map {
        width: 100%;
        height: 100%;
      }
        button {
            display: block;
            width: 150px;
            height: 100px;
            margin-left: 40px;

        }
    </style>
</head>
<body>
    <div>
        <div>
            <div>
                <div>
                    <div>
                        <div>
                            <div id="111">
                                <button class="first">热力图按钮</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <button id="222">热力图按钮</button>
    <button id="333">热力图按钮</button>
    <button id="create">生成</button>
    <!--<script src="./lib/heatmap.js"></script>-->
    <script>
    (function(document,datracker,root){function loadJsSDK(){var script,first_script;script=document.createElement("script");script.type="text/javascript";script.async=true;script.src="../../build/test-1.7.2/DATracker.globals.js";first_script=document.getElementsByTagName("script")[0];first_script.parentNode.insertBefore(script,first_script)}if(!datracker["__SV"]){var win=window;var gen_fn,functions,i,lib_name="DATracker";window[lib_name]=datracker;datracker["_i"]=[];datracker["init"]=function(token,config,name){var target=datracker;if(typeof(name)!=="undefined"){target=datracker[name]=[]}else{name=lib_name}target["people"]=target["people"]||[];target["abtest"]=target["abtest"]||[];target["toString"]=function(no_stub){var str=lib_name;if(name!==lib_name){str+="."+name}if(!no_stub){str+=" (stub)"}return str};target["people"]["toString"]=function(){return target.toString(1)+".people (stub)"};function _set_and_defer(target,fn){var split=fn.split(".");if(split.length==2){target=target[split[0]];fn=split[1]}target[fn]=function(){target.push([fn].concat(Array.prototype.slice.call(arguments,0)))}}functions="track_heatmap register_attributes register_attributes_once clear_attributes unregister_attributes current_attributes single_pageview disable time_event get_appStatus track set_userId track_pageview track_links track_forms register register_once alias unregister identify login logout signup name_tag set_config reset people.set people.set_once people.set_realname people.set_country people.set_province people.set_city people.set_age people.set_gender people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.set_populationWithAccount  people.set_location people.set_birthday people.set_region people.set_account abtest.get_variation abtest.async_get_variable".split(" ");for(i=0;i<functions.length;i++){_set_and_defer(target,functions[i])}datracker["_i"].push([token,config,name])};datracker["__SV"]=1.6;loadJsSDK()}})(document,window["DATracker"]||[],window);
    
        window._pt_lt = new Date().getTime();
        window._pt_sp_2 = [];
        _pt_sp_2.push('setAccount,50a6ef75');
        var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
        (function() {
        var atag = document.createElement('script'); atag.type = 'text/javascript'; atag.async = true;
        atag.src = _protocol + 'js.ptengine.cn/50a6ef75.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(atag, s);
        })();
        DATracker.init('MA-9BC8-A684A873CD8F',{
            heatmap_url: 'http://localhost:3100/build/heatmap/heatmap.js'
        });
    </script>
    
    <script type="text/javascript">
        var firstDom = document.getElementById('111');
        for(var i=0; i<20; i++){
            var div = document.createElement('button');
            div.className = 'first' + i;
            div.innerHTML = '热力图按钮first-' + i;
            firstDom.appendChild(div);
        }
  
        document.getElementById('create').addEventListener('click', function() {
            var div = document.createElement('button');
            div.id  = '555';
            div.innerHTML = '热力图按钮555';
            document.body.appendChild(div);
        })
        setInterval(function() {
   
                    var div = document.createElement('button');
                    div.className = 'first';
                    div.innerHTML = '热力图按钮first-';
                    firstDom.appendChild(div);
              
        }, 3000)
    </script>
</body>
</html>